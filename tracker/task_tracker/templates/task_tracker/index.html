{% extends 'base.html' %}
{% block title %}Task Tracker{% endblock %}
{% block content %}

<body>
    <div class="container">
        <h2>My Tasks</h2>
        {% if tasks %}

        <table class="table table-striped table-sm">
            <thead class="thead-dark">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Task ID</th>
                    <th scope="col">Task Created</th>
                    <th scope="col">Task Updated</th>
                    <th scope="col">Task Completed</th>
                    <th scope="col">Task Duration</th>
                    <th scope="col">Task Type</th>
                    <th scope="col">Task Status</th>
                    
                </tr>
            </thead>
            <tbody>
                
                    {% for task in tasks %}
                    <tr>
                        <td>{{ forloop.counter }}</td>
                        <td>
                            <a href="{% url 'task_detail' task.id %}">{{ task.task_id }}</a>
                        </td>
                        <td>{{ task.created_at|date:"Y-m-d H:i"  }}</td>
                        <td>{{ task.updated_at|date:"Y-m-d H:i"  }}</td>
                        <td>{{ task.closed_at |date:"Y-m-d H:i" }}</td>
                        <td>{{ task.task_duration }}</td>
                        <td>{{ task.get_type_display }}</td>
                        <td>{{ task.get_status_display }}</td>
                        
                    </tr>
                        
                    {% endfor %}
                {% else %}
                    <h3>No tasks found</h3>
                {% endif %}    
            </tbody>

        </table>
    </div>

    {% endblock %}
</body>
</html>